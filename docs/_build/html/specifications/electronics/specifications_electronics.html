

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Electronics &mdash; Light Plate Apparatus 0.9 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Firmware" href="../firmware/specifications_firmware.html" />
    <link rel="prev" title="Specifications" href="../index.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Light Plate Apparatus
          

          
          </a>

          
            
            
              <div class="version">
                0.9
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../FAQ/faq.html">FAQ</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Specifications</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Electronics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#detailed-circuit-board-photographs">Detailed circuit board photographs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#circuit-board-sd-card-reader-stage-schematic">Circuit board SD-card reader stage schematic</a></li>
<li class="toctree-l3"><a class="reference internal" href="#circuit-board-microcontroller-stage-schematic">Circuit board microcontroller stage schematic</a></li>
<li class="toctree-l3"><a class="reference internal" href="#circuit-board-led-driver-stage-schematic">Circuit board LED driver stage schematic</a></li>
<li class="toctree-l3"><a class="reference internal" href="#circuit-board-power-stage-schematic">Circuit board power stage schematic</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../firmware/specifications_firmware.html">Firmware</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chassis/specifications_chassis.html">Chassis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/specifications_misc.html">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../fab/index.html">Fabrication and assembly</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../initializing/index.html">Initializing a new device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../using/index.html">Using the LPA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contribute</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../links/videos.html">Video tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../links/papers.html">Papers which use LPAs</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Light Plate Apparatus</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Specifications</a> &raquo;</li>
        
      <li>Electronics</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/specifications/electronics/specifications_electronics.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="electronics">
<h1>Electronics<a class="headerlink" href="#electronics" title="Permalink to this headline">¶</a></h1>
<div class="section" id="detailed-circuit-board-photographs">
<h2>Detailed circuit board photographs<a class="headerlink" href="#detailed-circuit-board-photographs" title="Permalink to this headline">¶</a></h2>
<div class="figure" id="id1" style="width: 100%">
<a class="reference internal image-reference" href="../../_images/pcb_labels.png"><img alt="../../_images/pcb_labels.png" src="../../_images/pcb_labels.png" style="width: 385.0px; height: 842.5px;" /></a>
<p class="caption"><span class="caption-text">Detailed photographs of the LPA circuit board populated with electrical components from Supplementary Table S1.
Panels show (a) top-down and (b-c) bottom-up perspectives.
The method for soldering circuit board components can be found in the Supplementary Method on circuit board fabrication and assembly.
The significance of each circuit board component is described in Supplementary Figs. S2-S5.</span></p>
</div>
</div>
<div class="section" id="circuit-board-sd-card-reader-stage-schematic">
<h2>Circuit board SD-card reader stage schematic<a class="headerlink" href="#circuit-board-sd-card-reader-stage-schematic" title="Permalink to this headline">¶</a></h2>
<div class="figure" id="id2" style="width: 100%">
<a class="reference internal image-reference" href="../../_images/sd_card.png"><img alt="../../_images/sd_card.png" src="../../_images/sd_card.png" style="width: 479.5px; height: 329.0px;" /></a>
<p class="caption"><span class="caption-text">The SD card reader stage contains the hardware needed for the microcontroller to properly read an SD card.
This stage includes the SD card socket (U1), a series of 50kΩ pull-up resistors (R15-R19), and the connections to the microcontroller (SS, MOSI, SCK, MISO), regulated power line (VCC) and ground
The SD card is operated in Serial Peripheral Interface (SPI) Mode, and has been wired to the microcontroller accordingly1,2, with lines SS, MOSI, SCK, and MISO going to pins PB2 (14), PB3 (15), PB5 (16) and PB4 (17), respectively.
If the internal pull-ups of the microcontroller are used, resistors R15 through R19 are not needed.</span></p>
</div>
</div>
<div class="section" id="circuit-board-microcontroller-stage-schematic">
<h2>Circuit board microcontroller stage schematic<a class="headerlink" href="#circuit-board-microcontroller-stage-schematic" title="Permalink to this headline">¶</a></h2>
<div class="figure" id="id3" style="width: 100%">
<a class="reference internal image-reference" href="../../_images/microcontroller.png"><img alt="../../_images/microcontroller.png" src="../../_images/microcontroller.png" style="width: 693.0px; height: 358.5px;" /></a>
<p class="caption"><span class="caption-text">The microcontroller stage contains the microcontroller, programming pins, reset button, and status LEDs.
The microcontroller is an Atmel ATMEGA3281, which receives its power from the regulated power line (VCC).
A pair of decoupling capacitors have been included in the design (C1, C2).
A 16Mhz ceramic resonator with built-in capacitors (Y1) is needed for the microcontroller to function at the appropriate frequency.
The programming pins (P2) have been wired according to the ISP specifications3, and they are compatible with popular Atmel programmers such as the AVRISP mkII and the AVR Dragon.
The reset circuit is comprised of button RESET1 and resistor R1. A set of status LEDs (ON, ERR, FIN) with their respective 330Ω current-limiting resistors (R_ON1, R_ERR1, R_FIN1) have been included to read the status of the device while running.</span></p>
</div>
</div>
<div class="section" id="circuit-board-led-driver-stage-schematic">
<h2>Circuit board LED driver stage schematic<a class="headerlink" href="#circuit-board-led-driver-stage-schematic" title="Permalink to this headline">¶</a></h2>
<div class="figure" id="id4" style="width: 100%">
<a class="reference internal image-reference" href="../../_images/led_driver.png"><img alt="../../_images/led_driver.png" src="../../_images/led_driver.png" style="width: 659.5px; height: 365.0px;" /></a>
<p class="caption"><span class="caption-text">The LED driver stage contains the hardware needed for controlling the intensity of the LEDs in response to instructions from the microcontroller, and the LEDs themselves.
The LED Driver Stage is comprised of LED Drivers TLC59414 connected in series. Each TLC5941 is able to control 16 LEDs.
Therefore, 3 are used in the 24-well LPA which contains 2 LEDs per well. Only one of these drivers (U3) is shown.
The driver receives power from the regulated power line VCC. A decoupling capacitor has been included for each driver chip.
The anodes of the LEDs (D1-D8 and D25-D32) are connected to the unregulated power line (VIN), and the cathodes to one of the output pins of the driver.
The TLC5941 implements a constant-current sink driver for each LED, which is controlled via a serial interface comprised of pins BLANK (2), XLAT (3), SCLK (4), SIN (5), MODE (6), and GSCLK (25). Pins BLANK, XLAT, SCLK, MODE and GSCLK of all the drivers are connected to pins PD3 (1), PB1 (13), PD4 (2), PD2 (32), and PB0 (12) of the microcontroller (Supplementary Fig. S3).
Only for the first LED driver, pin SIN (5) is connected to pin PD1 (31) of the microcontroller.
Serial connection of several LED drivers is achieved by connecting pin SOUT (24) of one driver to pin SIN (5) of the next driver.
The SOUT pin of the last driver is left unconnected. Pin IREF (27) is connected to ground through a 2.2kΩ resistor.
This sets the maximum current in each output of the driver to 17.8 mA4.
Pins SIN and SCK are seen from the microcontroller as an SPI interface.
However, the microcontroller is already using its only SPI module to communicate with the SD card.
To solve this, the microcontroller has been configured to use its Universal Synchronous and Asynchronous serial Receiver and Transmitter (USART) Module in SPI mode1.
For more details, consult the firmware documentation.</span></p>
</div>
</div>
<div class="section" id="circuit-board-power-stage-schematic">
<h2>Circuit board power stage schematic<a class="headerlink" href="#circuit-board-power-stage-schematic" title="Permalink to this headline">¶</a></h2>
<div class="figure" id="id5" style="width: 100%">
<a class="reference internal image-reference" href="../../_images/power_stage.png"><img alt="../../_images/power_stage.png" src="../../_images/power_stage.png" style="width: 746.5px; height: 221.0px;" /></a>
<p class="caption"><span class="caption-text">The power stage supplies electric power to the other stages.
The power stage produces two power lines: regulated low power (VCC), which feeds the microcontroller and other integrated circuits, and unregulated high power (VIN), which is taken directly from the input power connector, and feeds the LEDs.
Power through the LEDs is switched by the TLC5941 LED drivers; therefore the input power can be up to 17V unregulated, in accordance with the TLC5941 specifications4.
Regulated power at 3.3V is generated by a standard voltage regulator integrated circuit LD1117S335, which is preceded by an LC filter (C3, C4 and L1) and followed by a stabilization capacitor (C5).
Separating LED power from regulated power allows for a more stable regulated power line that is not affected by switching of large currents, while allowing for an arbitrary number of LEDs to be placed without changes in the power stage.
Ground is taken directly from the input power line.</span></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../firmware/specifications_firmware.html" class="btn btn-neutral float-right" title="Firmware" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../index.html" class="btn btn-neutral" title="Specifications" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Tabor Lab

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>